import static org.junit.Assert.*;

import java.awt.List;
import java.util.ArrayList;
import java.util.Optional;

import org.junit.Test;

import sinon.main.Game;
import sinon.models.Board;
import sinon.models.BullPen;
import sinon.models.Hexomino;
import sinon.models.HexominoNumberSet;
import sinon.models.Level;
import sinon.models.NumberSetFactory;
import sinon.models.data.LevelType;
import sinon.moves.MoveToBoardFromBullpen;

public class MoveToBoardFromBullpenTest {

	@Test
	public void test() {
		
		NumberSetFactory nsf = new NumberSetFactory();
		Hexomino hex1 = new Hexomino(NumberSetFactory.getByNumbers(0, 0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5));
		Hexomino hex2 = new Hexomino(NumberSetFactory.getByNumbers(0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5, 0));
		
		
		ArrayList<Hexomino> bpList = new ArrayList<Hexomino>();
		Level testLevel2 = new Level(LevelType.types.PUZZLE, new Board(), new BullPen(bpList));
		bpList.add(hex1);
		bpList.add(hex2);
		
		Level testLevel = new Level(LevelType.types.PUZZLE, new Board(), new BullPen(bpList));
		testLevel.select(hex1);
		MoveToBoardFromBullpen mtbfbp1 = new MoveToBoardFromBullpen(testLevel, 0 ,0);
		MoveToBoardFromBullpen mtbfbp3 = new MoveToBoardFromBullpen(testLevel, -3 ,-3);
		MoveToBoardFromBullpen mtbfbp4 = new MoveToBoardFromBullpen(testLevel, 5 ,5);
		MoveToBoardFromBullpen mtbfbp5 = new MoveToBoardFromBullpen(testLevel, 0 ,0);
		// A valid move
		assertTrue(mtbfbp1.doMove());
		// You can't make the same move twice
		assertFalse(mtbfbp1.doMove());
		testLevel.select(hex2);
		// Can't add to the same place
		assertFalse(mtbfbp5.doMove());
		// Undoing a valid move
		assertTrue(mtbfbp1.undo());
		//Undo's are not finished, no testing to see if can undo
		//assertFalse(mtbfbp1.undo());
		testLevel.getBullpen().addHexomino(hex2);
		testLevel.select(hex2);
		MoveToBoardFromBullpen mtbfbp2 = new MoveToBoardFromBullpen(testLevel, 12 ,12);
		// Can't place a piece there
		assertFalse(mtbfbp2.doMove());
		testLevel.getBullpen().addHexomino(hex1);
		testLevel.select(hex1);
		// can't add to -3, -3
		assertFalse(mtbfbp3.doMove());
		//Doesn't check if the bullpen has the hex
		//assertFalse(mtbfbp4.doMove());
		testLevel.deselect();
		//Nothing selected
		assertFalse(mtbfbp5.doMove());
		
		
	}

}
